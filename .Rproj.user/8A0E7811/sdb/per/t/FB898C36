{
    "collab_server" : "",
    "contents" : "install.packages('devtools')\npackageVersion(\"omdbapi\")\ninstall.packages('pbapply')\ndevtools::install_github(\"hrbrmstr/omdbapi\")\n\nlibrary(omdbapi)\nlibrary(dplyr)\nlibrary(pbapply)\n\nsearch_by_title(\"Captain America\")\nsearch_by_title(\"Captain America\", page = 2)\nsearch_by_title(\"Starship Troopers\")\ngames <- search_by_title(\"Captain America\", type=\"game\")\n\nglimpse(games)\nglimpse(games$Title[1])\nglimpse(games$imdbID[1])\n\nfind_by_title(games$Title[1])\nGOT <- find_by_title(\"Game of Thrones\", type=\"series\", season=1, episode=1)\nglimpse(GOT)\nglimpse(GOT$Year)\n\nget_genres(find_by_title(\"London Love Story\"))\n\ngenre_list <- c(\"Action\", \"Adventure\", \"Animation\", \"Children\", \"Comedy\", \"Crime\",\"Documentary\", \"Drama\", \"Fantasy\",\"Film-Noir\", \"Horror\", \"Musical\", \"Mystery\",\"Romance\",\"Sci-Fi\", \"Thriller\", \"War\", \"Western\")\n\nget_genres(find_by_title(Movie_Action_Title$Text[1]))\n\n#============= START HERE [movie_action] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_action <- as.data.frame(Movie_Action_Title$Text, stringsAsFactors=FALSE)\ncolnames(movie_action) <- c(\"movie_title\", \"movie_id\", \"movie_category\")\nfor (i in 1:nrow(Movie_Action_Title)) {\n  movie_action$movie_id <- c(1:172)\n}\n#/add movie id ===================================================================\n\n\n#============== get genre of each movies ======================\n# one by one\n\ngenre_matrix <- matrix(0,172,5)\n\ngenre1 <- get_genres(find_by_title(movie_action$movie_title[29]))\ngenre2 <- as.data.frame(tstrsplit(genre1, '[\"]', type.convert=TRUE), stringsAsFactors=FALSE)\ngenre3 <- matrix(unlist(genre1), ncol = 3, byrow = TRUE)\n\ngenre1 <- get_genres(find_by_title(movie_action$movie_title[1]))\ngenre3[2,] <- matrix(unlist(genre1), ncol = 3, byrow = TRUE)\n\n#/============== get genre of each movies ======================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_action)) {\n  genre1 <- get_genres(find_by_title(movie_action$movie_title[i]))\n  if(!is.null(genre1[i])){\n    genre3[i,] <- matrix(unlist(genre1), ncol = 3, byrow = TRUE)\n  }else{\n    genre3[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4 <- as.data.frame(genre3, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_action$genre1 <- genre4$movie_genre1\nmovie_action$genre2 <- genre4$movie_genre2\nmovie_action$genre3 <- genre4$movie_genre3\n\n#to rearrange data frame column\nmovie_action <- movie_action[,c(\"movie_id\", \"movie_title\", \"movie_category\", \"genre1\", \"genre2\", \"genre3\")]\n\n#to delete movie_category column\nmovie_action[[\"movie_category\"]] <- NULL\n\n#/============= get genre of each movies AUTO all movies ========\n\n\n#============= START HERE [movie_comedy] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_comedy <- as.data.frame(Movie_Comedy_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Comedy_Title)) {\n  movie_comedy$movie_id <- c(173:583)\n}\ncolnames(movie_comedy) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3comedy <- matrix(0,411,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_comedy)) {\n  genre1comedy <- get_genres(find_by_title(movie_comedy$movie_title[i]))\n  if(!is.null(genre1comedy[i])){\n    genre3comedy[i,] <- matrix(unlist(genre1comedy), ncol = 3, byrow = TRUE)\n  }else{\n    genre3comedy[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3comedy) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4comedy <- as.data.frame(genre3comedy, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_comedy$genre1 <- genre4comedy$movie_genre1\nmovie_comedy$genre2 <- genre4comedy$movie_genre2\nmovie_comedy$genre3 <- genre4comedy$movie_genre3\n\n#to rearrange data frame column\nmovie_comedy <- movie_comedy[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_crime] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_crime <- as.data.frame(Movie_Crime_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Crime_Title)) {\n  movie_crime$movie_id <- c(584:655)\n}\ncolnames(movie_crime) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3crime <- matrix(0,72,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_crime)) {\n  genre1crime <- get_genres(find_by_title(movie_crime$movie_title[i]))\n  if(!is.null(genre1crime[i])){\n    genre3crime[i,] <- matrix(unlist(genre1crime), ncol = 3, byrow = TRUE)\n  }else{\n    genre3crime[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3crime) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4crime <- as.data.frame(genre3crime, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_crime$genre1 <- genre4crime$movie_genre1\nmovie_crime$genre2 <- genre4crime$movie_genre2\nmovie_crime$genre3 <- genre4crime$movie_genre3\n\n#to rearrange data frame column\nmovie_crime <- movie_crime[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_drama] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_drama <- as.data.frame(Movie_Drama_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Drama_Title)) {\n  movie_drama$movie_id <- c(656:1348)\n}\ncolnames(movie_drama) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3drama <- matrix(0,693,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_drama)) {\n  genre1drama <- get_genres(find_by_title(movie_drama$movie_title[i]))\n  if(!is.null(genre1drama[i])){\n    genre3drama[i,] <- matrix(unlist(genre1drama), ncol = 3, byrow = TRUE)\n  }else{\n    genre3drama[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3drama) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4drama <- as.data.frame(genre3drama, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_drama$genre1 <- genre4drama$movie_genre1\nmovie_drama$genre2 <- genre4drama$movie_genre2\nmovie_drama$genre3 <- genre4drama$movie_genre3\n\n#to rearrange data frame column\nmovie_drama <- movie_drama[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_horror] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_horror <- as.data.frame(Movie_Horror_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Horror_Title)) {\n  movie_horror$movie_id <- c(1425:1526)\n}\ncolnames(movie_horror) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3horror <- matrix(0,102,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_horror)) {\n  genre1horror <- get_genres(find_by_title(movie_horror$movie_title[i]))\n  if(!is.null(genre1horror[i])){\n    genre3horror[i,] <- matrix(unlist(genre1horror), ncol = 3, byrow = TRUE)\n  }else{\n    genre3horror[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3horror) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4horror <- as.data.frame(genre3horror, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_horror$genre1 <- genre4horror$movie_genre1\nmovie_horror$genre2 <- genre4horror$movie_genre2\nmovie_horror$genre3 <- genre4horror$movie_genre3\n\n#to rearrange data frame column\nmovie_horror <- movie_horror[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_romance] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_romance <- as.data.frame(Movie_Romance_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Romance_Title)) {\n  movie_romance$movie_id <- c(1527:1847)\n}\ncolnames(movie_romance) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3romance <- matrix(0,321,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_romance)) {\n  genre1romance <- get_genres(find_by_title(movie_romance$movie_title[i]))\n  if(!is.null(genre1romance[i])){\n    genre3romance[i,] <- matrix(unlist(genre1romance), ncol = 3, byrow = TRUE)\n  }else{\n    genre3romance[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3romance) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4romance <- as.data.frame(genre3romance, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_romance$genre1 <- genre4romance$movie_genre1\nmovie_romance$genre2 <- genre4romance$movie_genre2\nmovie_romance$genre3 <- genre4romance$movie_genre3\n\n#to rearrange data frame column\nmovie_romance <- movie_romance[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_scifi] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_scifi <- as.data.frame(Movie_Sci_fi_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Sci_fi_Title)) {\n  movie_scifi$movie_id <- c(1848:1897)\n}\ncolnames(movie_scifi) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3scifi <- matrix(0,50,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_scifi)) {\n  genre1scifi <- get_genres(find_by_title(movie_scifi$movie_title[i]))\n  if(!is.null(genre1scifi[i])){\n    genre3scifi[i,] <- matrix(unlist(genre1scifi), ncol = 3, byrow = TRUE)\n  }else{\n    genre3scifi[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3scifi) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4scifi <- as.data.frame(genre3scifi, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_scifi$genre1 <- genre4scifi$movie_genre1\nmovie_scifi$genre2 <- genre4scifi$movie_genre2\nmovie_scifi$genre3 <- genre4scifi$movie_genre3\n\n#to rearrange data frame column\nmovie_scifi <- movie_scifi[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_thriller] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_thriller <- as.data.frame(Movie_Thriller_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Thriller_Title)) {\n  movie_thriller$movie_id <- c(1898:1987)\n}\ncolnames(movie_thriller) <- c(\"movie_title\", \"movie_id\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3thriller <- matrix(0,90,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_thriller)) {\n  genre1thriller <- get_genres(find_by_title(movie_thriller$movie_title[i]))\n  if(!is.null(genre1thriller[i])){\n    genre3thriller[i,] <- matrix(unlist(genre1thriller), ncol = 3, byrow = TRUE)\n  }else{\n    genre3thriller[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3thriller) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4thriller <- as.data.frame(genre3thriller, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_thriller$genre1 <- genre4thriller$movie_genre1\nmovie_thriller$genre2 <- genre4thriller$movie_genre2\nmovie_thriller$genre3 <- genre4thriller$movie_genre3\n\n#to rearrange data frame column\nmovie_thriller <- movie_thriller[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#============= START HERE [movie_top200] =============================================================================\n\n#add movie id =====================================================================\n\nmovie_top200 <- as.data.frame(Movie_Top200_Title$Text, stringsAsFactors=FALSE)\nfor (i in 1:nrow(Movie_Top200_Title)) {\n  movie_top200$movie_id <- c(1988:2187)\n}\ncolnames(movie_top200) <- c(\"movie_title\")\n#/add movie id ===================================================================\n\n\n#=============== get genre of each movies AUTO all movies ======\n\ngenre3top200 <- matrix(0,200,3)\n#get movie genre, put inside matrix\nfor (i in 1:nrow(movie_top200)) {\n  genre1top200 <- get_genres(find_by_title(movie_top200$movie_title[i]))\n  if(!is.null(genre1top200[i])){\n    genre3top200[i,] <- matrix(unlist(genre1top200), ncol = 3, byrow = TRUE)\n  }else{\n    genre3top200[i,] <- \"NA\"\n  }\n}\n\n#set columns name\ncolnames(genre3top200) <- c(\"movie_genre1\",\"movie_genre2\",\"movie_genre3\")\n\n#convert genre3 matrix into data frame genre4\ngenre4top200 <- as.data.frame(genre3top200, stringsAsFactors=FALSE)\n\n#add column genre1-3 to movie_action data frame\nmovie_top200$genre1 <- genre4top200$movie_genre1\nmovie_top200$genre2 <- genre4top200$movie_genre2\nmovie_top200$genre3 <- genre4top200$movie_genre3\n\n#remove NA movie\nmovie_top200 <- movie_top200[!(movie_top200$genre1==\"NA\"),]\nmovie_top200 <- movie_top200[!(movie_top200$genre1==\"N/A\"),]\n\n#reset rownumber\nrownames(movie_top200) <- NULL\n\n#to rearrange data frame column\nmovie_top200 <- movie_top200[,c(\"movie_id\", \"movie_title\", \"genre1\", \"genre2\", \"genre3\")]\n\n#/============= get genre of each movies AUTO all movies ========\n\n#bind dataframe\n\nmovie_iflix <- rbind(movie_action,movie_comedy)\nmovie_iflix <- rbind(movie_iflix,movie_crime)\nmovie_iflix <- rbind(movie_iflix,movie_drama)\nmovie_iflix <- rbind(movie_iflix,movie_family)\nmovie_iflix <- rbind(movie_iflix,movie_horror)\nmovie_iflix <- rbind(movie_iflix,movie_romance)\nmovie_iflix <- rbind(movie_iflix,movie_scifi)\nmovie_iflix <- rbind(movie_iflix,movie_thriller)\nmovie_iflix <- rbind(movie_iflix,movie_top200)\n\nmovie_top200view <-  as.data.frame(movie_top200$movie_title, stringsAsFactors=FALSE)\nmovie_top200view$Movie_Id <- movie_top200$movie_id\ncolnames(movie_top200view) <- \"Title\"\nmovie_top200view <- movie_top200view[,c(\"Movie_Id\", \"Title\")]\n\n#test imdbid ==============================================\ntitle <- find_by_title(movie_top200$movie_title[21])\ntitle_imdbid <- title$imdbID\n\n\nimdbtop200_2 <- matrix(0,165,1)\nfor (i in 1:nrow(movie_top200)) {\n  imdbtop200 <- find_by_title(movie_top200$movie_title[i])\n  imdbtop200_1 <- imdbtop200['imdbID']\n  imdbtop200_2[i,] <- matrix(unlist(imdbtop200_1), ncol = 1)\n  #if(!is.null(imdbtop200[i])){\n  #  imdbtop200_2[i,] <- matrix(unlist(imdbtop200_1), ncol = 1)\n  #}else{\n  #  imdbtop200_2[i,] <- \"NA\"\n  #}\n}\n\n#put name to column\ncolnames(imdbtop200_2) <- c(\"imdbID\")\n\n#test imdbid ==============================================\n\n# remove NA genre ===================================================\nmovie_top200 <- movie_top200[-8,]\nmovie_top200_final <-NULL\n\n#replace NA / N/A as 0\ntitle_wotNA <- matrix(0,172,1)\nfor (i in 1:nrow(movie_top200)) {\n  genretest <- movie_top200$genre1[i]\n  if(genretest != \"NA\" && genretest != \"N/A\"){\n    title_wotNA[i,] <- matrix(unlist(genretest), ncol = 1, byrow = TRUE)\n  }\n}\ncolnames(title_wotNA) <- c(\"genre\")\ntitle_wotNA2 <- as.data.frame(title_wotNA, stringsAsFactors=FALSE)\n\n#remove 0 in genre\ntitle_wotNA2 <- title_wotNA2[!(title_wotNA2$genre==0),]\ntitle_wotNA3 <- as.data.frame(title_wotNA2, stringsAsFactors = FALSE)\n\n# /remove NA genre ==================================================\n\n\n",
    "created" : 1482239029510.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3339973762",
    "id" : "FB898C36",
    "lastKnownWriteTime" : 1484809979,
    "last_content_update" : 1484809979046,
    "path" : "D:/ACAP/FYP/R/Recommender Apps/Recommender Apps4/scraping.R",
    "project_path" : "scraping.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}